# FireRunner Configuration Example

server:
  host: "0.0.0.0"
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  tls_enabled: false
  # tls_cert_path: "/path/to/cert.pem"
  # tls_key_path: "/path/to/key.pem"

gitlab:
  url: "https://gitlab.example.com"
  token: "your-gitlab-api-token-here"
  webhook_secret: "your-webhook-secret-here"
  runner_tags:
    - "firecracker"
    - "microvm"
    - "firerunner"
  runner_timeout: 1h
  max_concurrent: 10

flintlock:
  endpoint: "localhost:9090"
  timeout: 30s
  retry_attempts: 3
  retry_delay: 1s
  tls_enabled: false
  # tls_ca_cert: "/path/to/ca.pem"
  # tls_client_cert: "/path/to/client-cert.pem"
  # tls_client_key: "/path/to/client-key.pem"

vm:
  default_vcpu: 2
  default_memory_mb: 4096
  kernel_image: "ghcr.io/firerunner/kernel:latest"
  rootfs_image: "ghcr.io/firerunner/gitlab-runner:latest"
  network_interface: "eth0"
  metadata_service: true
  cloud_init_enabled: true
  extra_labels:
    environment: "production"
    managed_by: "firerunner"

scheduler:
  queue_size: 1000
  worker_count: 5
  job_timeout: 2h
  cleanup_interval: 5m
  vm_start_timeout: 60s
  vm_shutdown_timeout: 30s
  enable_prewarming: false
  prewarm_pool_size: 0

metrics:
  enabled: true
  port: 9090
  path: "/metrics"
  enable_pprof: false
  pprof_port: 6060

logging:
  level: "info"  # debug, info, warn, error
  format: "json"  # json or text
  output: "stdout"  # stdout, stderr, or file path
  max_size_mb: 100
  max_backups: 3
  max_age_days: 28
  compress: true
